# フロントエンド設計

## 画面要件

- **ミッション管理画面 (`/mission`)**
  - 現在登録されているミッションを表示する。
  - テキストエリアでミッション内容を編集し、更新ボタンで保存できる。
- **目標管理画面 (`/goals`)**
  - `end_date`が最も未来日に設定されている期間の目標群のみを表示する。
  - 各目標の進捗率を更新できる。
  - 新しい目標を登録するフォーム（モーダルなど）を開き、目標内容、期間、ウェイトを登録できる。
- **週報出力画面 (`/report`)**
  - 日付選択コンポーネント（カレンダー）を表示する。
  - 日付を選択すると、その週に対応する週報（ミッション、業務状況、目標進捗）が整形されて表示される。

## アーキテクチャ

バックエンドとの一貫性を保つため、フロントエンドも**フィーチャーベースのアーキテクチャ**を採用する。

### ディレクトリ構成案 (`packages/web/src`)

```
packages/web/src/
├── routes/
│   ├── index.tsx         # React Routerのルート定義
│   └── protected.tsx     # 認証が必要なルートのレイアウト
├── pages/                # ルートに対応するページコンポーネント
│   ├── Mission.tsx
│   ├── Goals.tsx
│   └── Report.tsx
├── features/             # 各機能（ドメイン）に関連するコンポーネント、フック、状態管理
│   ├── mission/
│   ├── goals/
│   └── report/
├── components/
│   ├── ui/               # shadcn/ui から導入したUIコンポーネント (Button, Inputなど)
│   └── layout/           # ヘッダー、サイドバーなどの共通レイアウト
├── lib/
│   ├── api.ts            # APIクライアント (axios) の設定と、各エンドポイントを呼び出す関数
│   └── utils.ts          # 汎用的なユーティリティ関数
├── store/                # グローバルな状態管理 (Zustand)
│   └── authStore.ts
└── App.tsx               # アプリケーションのエントリポイント
```

## 主要な技術要素の役割

- **ルーティング (`React Router`)**:
  - `/mission`, `/goals`, `/report` といったパスとページコンポーネントをマッピングする。
  - ログインしていないユーザーをリダイレクトする認証ガードも実装する。
- **コンポーネント (`React`, `shadcn/ui`)**:
  - `components/ui` には `shadcn/ui` から導入した再利用可能な最小単位のコンポーネントを配置する。
  - `features/*` 配下には、各機能に特化した複合コンポーネントを配置する。
- **状態管理 (`Zustand`)**:
  - ログインしているユーザー情報など、アプリケーション全体で共有する状態を `store/` で管理する。
  - 各ページやフィーチャーに閉じた状態は、Reactの `useState` や、各`features`ディレクトリ内のストアで管理する。
- **データ取得 (`axios`)**:
  - `lib/api.ts` にAPI通信のロジックを集約する。`react-query` や `swr` などのライブラリを組み合わせ、キャッシュや再取得を効率化することも推奨される。

